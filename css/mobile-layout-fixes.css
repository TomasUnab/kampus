/* ============================================
   ðŸ“± CORRECCIONES DE LAYOUT MÃ“VIL - KAMPUS
   ============================================ */

/* Viewport meta tag enforcement */
@-ms-viewport { width: device-width; }

/* Base mobile-first approach */
@media screen and (max-width: 768px) {
  
  /* === FORCE MOBILE LAYOUT === */
  * {
    -webkit-tap-highlight-color: rgba(0,0,0,0);
    -webkit-touch-callout: none;
  }
  
  html {
    font-size: 14px !important;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }
  
  body {
    font-size: 14px !important;
    line-height: 1.5;
    overflow-x: hidden;
  }
  
  /* === CONTAINER FIXES === */
  .container,
  .mx-auto,
  .max-w-4xl,
  .max-w-7xl {
    width: 100% !important;
    max-width: 100% !important;
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }
  
  /* === HEADER MOBILE === */
  header {
    position: sticky !important;
    top: 0 !important;
    z-index: 50 !important;
    padding: 0.5rem 0.75rem !important;
    min-height: 60px;
  }
  
  header .flex {
    flex-wrap: nowrap !important;
    justify-content: space-between !important;
    align-items: center !important;
    gap: 0.5rem !important;
  }
  
  header h1 {
    font-size: 1.125rem !important;
    font-weight: 700 !important;
  }
  
  header svg {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }
  
  /* Hide desktop navigation */
  nav.hidden.md\\:flex,
  .hidden.md\\:flex {
    display: none !important;
  }
  
  /* Show mobile menu button */
  .md\\:hidden {
    display: flex !important;
  }
  
  /* === MAIN CONTENT === */
  main {
    padding: 0.75rem !important;
    width: 100% !important;
  }
  
  /* === SEARCH BAR === */
  .relative:has(input) {
    width: 100% !important;
    margin-bottom: 1rem !important;
  }
  
  input[type="text"],
  input[type="search"] {
    width: 100% !important;
    padding: 0.75rem 2.5rem 0.75rem 2.5rem !important;
    font-size: 14px !important;
    border-radius: 0.5rem !important;
  }
  
  /* === TABS === */
  .border-b .flex {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
  }
  
  .border-b .flex::-webkit-scrollbar {
    display: none !important;
  }
  
  .tab-btn {
    flex-shrink: 0 !important;
    white-space: nowrap !important;
    padding: 0.75rem 1rem !important;
    font-size: 0.875rem !important;
    min-width: auto !important;
  }
  
  /* === FILTER SECTION === */
  .flex.flex-wrap.items-center.justify-between,
  .mt-6.flex.flex-col {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 1rem !important;
  }
  
  .flex.items-center.gap-2:has(.sort-btn) {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 0.5rem !important;
  }
  
  .sort-btn {
    flex: 1 !important;
    text-align: center !important;
    padding: 0.5rem !important;
    font-size: 0.75rem !important;
    min-width: 0 !important;
  }
  
  /* === RESULTS GRID === */
  .space-y-4 {
    gap: 1rem !important;
  }
  
  .resultado-item {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.75rem !important;
    padding: 0.75rem !important;
    border-radius: 0.5rem !important;
    margin-bottom: 1rem !important;
  }
  
  .resultado-item > div:first-child {
    width: 100% !important;
    height: 150px !important;
    flex-shrink: 0 !important;
    border-radius: 0.5rem !important;
    background-size: cover !important;
    background-position: center !important;
  }
  
  .resultado-item h3 {
    font-size: 1rem !important;
    line-height: 1.3 !important;
    font-weight: 600 !important;
    margin-bottom: 0.5rem !important;
  }
  
  .resultado-item p {
    font-size: 0.875rem !important;
    line-height: 1.4 !important;
    color: #6b7280 !important;
    margin-bottom: 0.5rem !important;
  }
  
  .resultado-item .flex.items-center.gap-4 {
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
    font-size: 0.75rem !important;
    justify-content: space-between !important;
  }
  
  /* === MIS MATERIALES GRID === */
  .grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }
  
  .grid > div {
    width: 100% !important;
  }
  
  .aspect-video {
    aspect-ratio: 16/9 !important;
    width: 100% !important;
    height: auto !important;
  }
  
  /* === PLANES PAGE === */
  .text-5xl {
    font-size: 2rem !important;
    line-height: 1.2 !important;
  }
  
  .text-3xl {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
  }
  
  .text-2xl {
    font-size: 1.25rem !important;
    line-height: 1.3 !important;
  }
  
  .text-xl {
    font-size: 1.125rem !important;
    line-height: 1.4 !important;
  }
  
  /* Plan cards */
  .bg-white,
  .bg-gradient-to-br {
    margin-bottom: 1.5rem !important;
    padding: 1rem !important;
  }
  
  /* === BUTTONS === */
  button,
  .btn,
  a[role="button"] {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 0.75rem 1rem !important;
    font-size: 0.875rem !important;
    border-radius: 0.5rem !important;
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: transparent !important;
  }
  
  /* === MODALS === */
  .fixed.inset-0 {
    padding: 0.5rem !important;
  }
  
  .fixed.inset-0 > div {
    width: calc(100vw - 1rem) !important;
    max-width: calc(100vw - 1rem) !important;
    max-height: calc(100vh - 1rem) !important;
    margin: 0.5rem auto !important;
    overflow-y: auto !important;
  }
  
  /* === NOTIFICATIONS === */
  .notification-dropdown {
    position: fixed !important;
    top: 60px !important;
    left: 0.5rem !important;
    right: 0.5rem !important;
    width: auto !important;
    max-width: none !important;
  }
  
  /* === UTILITY OVERRIDES === */
  .px-4 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
  .px-6 { padding-left: 0.75rem !important; padding-right: 0.75rem !important; }
  .px-8 { padding-left: 1rem !important; padding-right: 1rem !important; }
  .py-8 { padding-top: 1rem !important; padding-bottom: 1rem !important; }
  .py-16 { padding-top: 2rem !important; padding-bottom: 2rem !important; }
  
  .gap-4 { gap: 0.75rem !important; }
  .gap-6 { gap: 1rem !important; }
  .gap-8 { gap: 1rem !important; }
  .gap-12 { gap: 1rem !important; }
  
  .mb-8 { margin-bottom: 1.5rem !important; }
  .mb-16 { margin-bottom: 2rem !important; }
  
  /* === DISABLE HOVER EFFECTS === */
  .hover\\:scale-\\[1\\.02\\]:hover {
    transform: none !important;
  }
  
  .group:hover .group-hover\\:scale-105 {
    transform: none !important;
  }
  
  .hover\\:shadow-lg:hover {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1) !important;
  }
  
  /* === SCROLLING === */
  body,
  html {
    -webkit-overflow-scrolling: touch !important;
    scroll-behavior: smooth !important;
  }
  
  /* === FORM ELEMENTS === */
  input,
  textarea,
  select {
    font-size: 16px !important; /* Prevent zoom on iOS */
    -webkit-appearance: none !important;
    border-radius: 0.5rem !important;
  }
  
  /* === ACCESSIBILITY === */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* === VERY SMALL SCREENS === */
@media screen and (max-width: 375px) {
  html { font-size: 13px !important; }
  
  .container,
  .mx-auto {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }
  
  header {
    padding: 0.5rem !important;
  }
  
  main {
    padding: 0.5rem !important;
  }
  
  .resultado-item {
    padding: 0.5rem !important;
  }
  
  .sort-btn {
    padding: 0.375rem 0.5rem !important;
    font-size: 0.7rem !important;
  }
}

/* === LANDSCAPE MOBILE === */
@media screen and (max-width: 768px) and (orientation: landscape) {
  header {
    padding: 0.25rem 0.75rem !important;
    min-height: 50px !important;
  }
  
  main {
    padding-top: 0.5rem !important;
  }
  
  .resultado-item {
    flex-direction: row !important;
  }
  
  .resultado-item > div:first-child {
    width: 120px !important;
    height: 80px !important;
    flex-shrink: 0 !important;
  }
}